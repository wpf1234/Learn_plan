# 操作系统

[toc]

```
4-7分
```



## 进程管理🌟🌟🌟

```
PV操作，超级超级超级重要
```

##### 进程的状态

- 就绪-运行-阻塞。阻塞态不能直接到运行态。运行态不能直接到就绪态
- 首先考虑非CPU资源

##### 前趋图🌟

= =

##### 信号量与PV操作🌟

- 互斥：会存在一个共享使用的资源，但是某一时刻只能一个进程使用，临界资源的互斥访问
- 同步：速度有差异，在一定情况停下等待。

生产者和消费者就是典型的协同现象。

##### 银行家算法

- 当一个进程对资源的最大需求量不超过系统中的资源数时可以接纳该进程。
- 进程可以分期请求资源，但请求的总数不能超过最大需求量
- 当系统现有的资源不能满足进程尚需资源数时，对进程的请求可以推迟分配，但总能使进程在有限的时间里得到资源



## 存储管理🌟🌟🌟

```
- CPU->Cache->内存->外存
- 用的时候通过局部性原理支撑，将外存内容调到内存，统称虚拟化存储
- 页式存储/段式存储/段页式存储
```

##### 页式存储组织

- 优点：利用率高，碎片小，分配及管理简单
- 缺点：增加了系统开销；可能产生抖动现象
- 逻辑地址=页号+页内地址
- 物理地址=页帧号+页内地址（物理块号又称为页帧块）
- 优先淘汰访问位为0，其次考虑修改位为0

##### 段式存储组织

- 按用户作业中的自然段来划分逻辑空间，然后调入内存，段段长度可以不一样。
- 优点：多道程序共享内存，各段程序修改互不影响。
- 缺点：内存利用率低，内存碎片浪费大。
- 逻辑地址：（段号，段内偏移量）

##### 段页式存储组织

- 段式与页式的综合体，先分段，再分页。
- 优点：空间浪费小、存储共享容易、存储保护容易、能动态连接
- 缺点：由于管理软件的增加，复杂性和开销也随之增加，需要的硬件以及占用的内容也有所增加，使得执行速度大大下降

##### 快表

- 将页表存于Cache上叫快表
- 将页表存于内存上叫慢表

## 文件管理

```
文件管理的是外存里的文件。
```

##### 索引文件🌟

- 索引可以理解为指针、地址、盘块号

##### 文件和树型目录结构

- 文件属性：R只读文件属性 / A存档属性 / S系统文件 / H隐藏文件
- 文件名的组成：驱动器号+路径+主文件名+扩展名
- 绝对路径：是从盘符开始的路径
- 相对路径：是从当前目录开始的路径

##### 空闲存储空间的管理

- 文件管理：空闲区表法、空闲链表法、位示图法 成组链接法



## 作业管理

```
软考中从来没有出现过。
```



## 设备管理

##### 数据传输控制方式

- **程序控制方式**：严重影响CPU。分为无条件传送和程序查询方式。
- **程序中断方式**：CPU无需等待而提高了传输请求的响应速度。
- **DMA方式**：DMA方式比程序控制方式与中断方式都高效。
- 通道方式
- I/O处理机

##### 虚设备与SPOOLING技术

- 假脱机技术，没有真正实现脱机打印



## 微内核操作系统

|          | 实质                                                         |
| -------- | ------------------------------------------------------------ |
| 单体内核 | 将图形、设备驱动及文件系统等功能全部在内核中实现，运行在内核状态和统一地址空间。 |
| 微内核   | 是实现基本功能，将图形系统、文件系统、设备驱动及通信功能放在内核之外。 |



## 嵌入式操作系统

##### 嵌入式操作系统特点

- 1.微型化 2.代码质量高 3.专业化 4.实时性强 5.可裁剪、可配置
- 实时嵌入式操作系统的内核服务有：异常和中断、计时器、I/O管理
- 常见的嵌入式RTOS：VxWorks、RT-Linux、QNX、pSOS